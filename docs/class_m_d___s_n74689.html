<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MD_SN76489 Library: MD_SN74689 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MajicDesigns_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MD_SN76489 Library
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Library for SN76489 sound generator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_m_d___s_n74689.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_m_d___s_n74689-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MD_SN74689 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;MD_SN76489.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_d___s_n74689_1_1adsr_envelope__t.html">adsrEnvelope_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a97573fb20c977854187351349d72e64e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#a97573fb20c977854187351349d72e64e">MD_SN74689</a> (const uint8_t *D, uint8_t WE, bool clock)</td></tr>
<tr class="separator:a97573fb20c977854187351349d72e64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19665f254ea626cf85f7beccf7c4eece"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#a19665f254ea626cf85f7beccf7c4eece">~MD_SN74689</a> (void)</td></tr>
<tr class="separator:a19665f254ea626cf85f7beccf7c4eece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf10ae0f5588ef182cd167c4ea5ff73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#a6bf10ae0f5588ef182cd167c4ea5ff73">begin</a> (void)</td></tr>
<tr class="separator:a6bf10ae0f5588ef182cd167c4ea5ff73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6450f521eca45f930fd3a1d287dc8fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#af6450f521eca45f930fd3a1d287dc8fa">play</a> (uint8_t chan, uint32_t freq)</td></tr>
<tr class="separator:af6450f521eca45f930fd3a1d287dc8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b499f8891c33b22204e12abf4d6154"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#ac2b499f8891c33b22204e12abf4d6154">setVolume</a> (uint8_t chan, uint8_t v)</td></tr>
<tr class="separator:ac2b499f8891c33b22204e12abf4d6154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4878a28a3e0d47671c3861a9708fef24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#a4878a28a3e0d47671c3861a9708fef24">setVolume</a> (uint8_t v)</td></tr>
<tr class="separator:a4878a28a3e0d47671c3861a9708fef24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ae17cfe5c59b4ffafe8cd25e887127"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#a77ae17cfe5c59b4ffafe8cd25e887127">setADSR</a> (uint8_t chan, <a class="el" href="struct_m_d___s_n74689_1_1adsr_envelope__t.html">adsrEnvelope_t</a> *padsr)</td></tr>
<tr class="separator:a77ae17cfe5c59b4ffafe8cd25e887127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7425dbed56598d7456cad518c254419"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#ad7425dbed56598d7456cad518c254419">isIdle</a> (uint8_t chan)</td></tr>
<tr class="separator:ad7425dbed56598d7456cad518c254419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc724544ead7ae5c3f8de0bc45216ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#a8cc724544ead7ae5c3f8de0bc45216ab">run</a> (void)</td></tr>
<tr class="separator:a8cc724544ead7ae5c3f8de0bc45216ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac00f2f246dbd8c1f4b595255a33f292c"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d___s_n74689.html#ac00f2f246dbd8c1f4b595255a33f292c">MAX_CHANNELS</a> = 4</td></tr>
<tr class="separator:ac00f2f246dbd8c1f4b595255a33f292c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core object for the MD_SN76489 library </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a97573fb20c977854187351349d72e64e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97573fb20c977854187351349d72e64e">&#9670;&nbsp;</a></span>MD_SN74689()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MD_SN74689::MD_SN74689 </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>WE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class Constructor - arbitrary digital interface.</p>
<p>Instantiate a new instance of the class. The parameters passed are used to connect the software to the hardware. Multiple instances may co-exist.</p>
<p>The D array is arranged to correspond to the IC pins (ie, pin D[0] is connected to IC pin D0, D[1] to D1, etc). D0 is the MSB in the data byte, D7 the LSB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">D</td><td>pointer to array of 8 pins number used to interface to IC pins D0 to D7 in that order. </td></tr>
    <tr><td class="paramname">WE</td><td>pin number used as write enable for the IC </td></tr>
    <tr><td class="paramname">clock</td><td>if true the 4MHz clock signal is generated using MCU timers (hardware dependency) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a19665f254ea626cf85f7beccf7c4eece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19665f254ea626cf85f7beccf7c4eece">&#9670;&nbsp;</a></span>~MD_SN74689()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MD_SN74689::~MD_SN74689 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class Destructor.</p>
<p>Does the necessary to clean up once the object is no longer required. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6bf10ae0f5588ef182cd167c4ea5ff73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf10ae0f5588ef182cd167c4ea5ff73">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MD_SN74689::begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the object.</p>
<p>Initialize the object data. This needs to be called during setup() to initialize new data for the class that cannot be done during the object creation.</p>
<p>The I/O pins are initialized and the 4MHz clock signal is started. </p>

</div>
</div>
<a id="ad7425dbed56598d7456cad518c254419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7425dbed56598d7456cad518c254419">&#9670;&nbsp;</a></span>isIdle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MD_SN74689::isIdle </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the idle state of a channel</p>
<p>Used to check if a channel is currently idle (ie not playuing a note).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel to check [0..MAX_CHANNELS] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the channel is currently idle, false otherwise. </dd></dl>

</div>
</div>
<a id="af6450f521eca45f930fd3a1d287dc8fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6450f521eca45f930fd3a1d287dc8fa">&#9670;&nbsp;</a></span>play()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MD_SN74689::play </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play a frequency on a channel</p>
<p>Output a sound with frequency freq on the specified channel. If a freq is 0, the channel is turned off (equivalent to setVolume(chan, VOL_OFF).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel number on which to play this note [0..MAX_CHANNELS-1]. </td></tr>
    <tr><td class="paramname">freq</td><td>frequency to play. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8cc724544ead7ae5c3f8de0bc45216ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc724544ead7ae5c3f8de0bc45216ab">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MD_SN74689::run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play notes on all channels</p>
<p>Runs the ADSR finite state machine for all channels. This should be called from the main loop() as frequently as possible to allow the library to execute the note playing envelope (ADSR). </p>

</div>
</div>
<a id="a77ae17cfe5c59b4ffafe8cd25e887127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ae17cfe5c59b4ffafe8cd25e887127">&#9670;&nbsp;</a></span>setADSR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MD_SN74689::setADSR </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_d___s_n74689_1_1adsr_envelope__t.html">adsrEnvelope_t</a> *&#160;</td>
          <td class="paramname"><em>padsr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the ADSR envelope for a channel</p>
<p>Sets the ADSR envelope for a channel. The envelope is defined in a structure of type <a class="el" href="struct_m_d___s_n74689_1_1adsr_envelope__t.html">adsrEnvelope_t</a>. The definition is not copied and must remain in scope for the durtion of it's use.</p>
<p>A null pointer changes the ADSR definition back to the library default. No change is made if the channel is not idle as the current ADSR definition is in use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel number on which to play this note [0..MAX_CHANNELS-1]. </td></tr>
    <tr><td class="paramname">padsr</td><td>pointer to the ADSR structure to be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac2b499f8891c33b22204e12abf4d6154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b499f8891c33b22204e12abf4d6154">&#9670;&nbsp;</a></span>setVolume() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MD_SN74689::setVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the volume on a channel</p>
<p>Set the volume on a channel to be the value specified. Valid values are all the values in the range [VOL_MIN .. VOL_MAX] including the end values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel number on which to play this note [0..MAX_CHANNELS-1]. </td></tr>
    <tr><td class="paramname">v</td><td>volume to set for the specificed channel in range [VOL_MIN..VOL_MAX]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4878a28a3e0d47671c3861a9708fef24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4878a28a3e0d47671c3861a9708fef24">&#9670;&nbsp;</a></span>setVolume() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MD_SN74689::setVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the volume on a channel</p>
<p>Set the volume on all channels to be the speified value. Valid values are all the values in the range [VOL_MIN .. VOL_MAX] including the end values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>volume to set for all channels in range [VOL_MIN..VOL_MAX]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac00f2f246dbd8c1f4b595255a33f292c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00f2f246dbd8c1f4b595255a33f292c">&#9670;&nbsp;</a></span>MAX_CHANNELS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t MD_SN74689::MAX_CHANNELS = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of sound channels available on the device </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_m_d___s_n76489_8h.html">MD_SN76489.h</a></li>
<li>src/<a class="el" href="_m_d___s_n76489_8cpp.html">MD_SN76489.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m_d___s_n74689.html">MD_SN74689</a></li>
    <li class="footer">Generated on Sun Sep 8 2019 19:02:33 for MD_SN76489 Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
